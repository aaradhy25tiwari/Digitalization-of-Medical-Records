<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Prescription Form</title>
    <link rel="stylesheet" href="styles_forms.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo"></div>
            <div class="form-title">
                <h2>Out Patient / Prescription Form</h2>
            </div>
        </div>

        <div class="patient-info">
            <table>
                <tr>
                    <td class="patient-label">Patient Label</td>
                    <td class="right-align">
                        <label for="name">Name:</label>
                        <input type="text" id="name">
                    </td>
                </tr>
            </table>
            <table>
                <tr>
                    <td><label for="aadhaar">Aadhaar Number:</label> <input type="text" id="aadhaar"></td>
                    <td><label for="mrn">MRN:</label> <input type="text" id="mrn"></td>
                    <td><label for="date">Date:</label> <input type="date" id="date"></td>
                </tr>
                <tr>
                    <td><label for="age">Age:</label> <input type="number" id="age"></td>
                    <td class="sex-field">
                        <label for="sex">Sex:</label>
                        <input type="radio" id="male" name="sex" value="male"> <label for="male">Male</label>
                        <input type="radio" id="female" name="sex" value="female"> <label for="female">Female</label>
                    </td>
                    <td><label for="height">Height (cm):</label> <input type="number" id="height" onchange="calculateBMI()"></td>
                    <td><label for="weight">Weight (kg):</label> <input type="number" id="weight" onchange="calculateBMI()"></td>
                </tr>
                <tr>
                    <td colspan="2"><label for="bmi">BMI:</label> <input type="text" id="bmi" readonly></td>
                </tr>
            </table>
        </div>

        <div class="medication-info">
            <table>
                <thead>
                    <tr>
                        <th>Description And Strength Of Drug</th>
                        <th>Dose-Frequency-Duration</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="medication-list">
                    <tr>
                        <td><textarea rows="2"></textarea></td>
                        <td><textarea rows="2"></textarea></td>
                        <td><button type="button" onclick="removeRow(this)">Remove</button></td>
                    </tr>
                </tbody>
            </table>
            <button class="add-row" type="button" onclick="addRow()">Add More</button>
        </div>

        <div class="diagnosis-info">
            <table>
                <tr>
                    <td><label for="diagnosis">Diagnosis:</label> <input type="text" id="diagnosis"></td>
                </tr>
                <tr>
                    <td><label for="allergies">Allergies:</label> <input type="text" id="allergies"></td>
                </tr>
            </table>
        </div>

        <div class="advice-precautions">
            <table>
                <thead>
                    <tr>
                        <th>Advice and Precautions</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="advice-list">
                    <tr>
                        <td><textarea rows="2"></textarea></td>
                        <td><button type="button" onclick="removeRow(this)">Remove</button></td>
                    </tr>
                </tbody>
            </table>
            <button class="add-row" type="button" onclick="addAdvice()">Add More Advice</button>
        </div>

        <div class="footer-info">
            <table>
                <tr>
                    <td><label for="followup-date">Follow-up Date:</label> <input type="date" id="followup-date"></td>
                </tr>
                <tr>
                    <td><label for="doctor-name">Doctor Name:</label> <input type="text" id="doctor-name"></td>
                </tr>
                <tr>
                    <td><label for="dispensed-by">Dispensed by:</label> <input type="text" id="dispensed-by"></td>
                </tr>
                <tr>
                    <td><label for="checked-by">Checked by:</label> <input type="text" id="checked-by"></td>
                </tr>
            </table>
        </div>

        <button type="submit">Submit</button>
    </div>

    <script>
        function addRow() {
            const table = document.getElementById('medication-list');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><textarea rows="2"></textarea></td>
                <td><textarea rows="2"></textarea></td>
                <td><button type="button" onclick="removeRow(this)">Remove</button></td>
            `;
            table.appendChild(row);
        }

        function addAdvice() {
            const table = document.getElementById('advice-list');
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><textarea rows="2"></textarea></td>
                <td><button type="button" onclick="removeRow(this)">Remove</button></td>
            `;
            table.appendChild(row);
        }

        function removeRow(button) {
            button.closest('tr').remove();
        }

        function calculateBMI() {
            const height = document.getElementById('height').value / 100; // Convert height to meters
            const weight = document.getElementById('weight').value;
            const bmi = (weight / (height * height)).toFixed(2);

            if (!isNaN(bmi) && bmi > 0) {
                document.getElementById('bmi').value = bmi;
            }
        }
    </script>
</body>
</html>
